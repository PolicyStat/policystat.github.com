
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>PolicyStat's Dev Blog</title>
  <meta name="author" content="PolicyStat LLC">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="canonical" href="http://devblog.policystat.com//blog/page/2/index.html"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/policystatdevblog" rel="alternate" title="PolicyStat's Dev Blog" type="application/atom+xml"/>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2228017-6']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">PolicyStat's Dev Blog</a></h1>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/policystatdevblog" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:devblog.policystat.com/" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">



  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/devops-at-our-startup/">DevOps at Our Startup</a></h1>
    
    
      <p class="meta">




<time datetime="2010-10-14 16:54:00 -0400" pubdate  updated >Oct 14<span>th</span>, 2010</time>


</p>
    
  </header>


  <div class="entry-content"><p>The guys at <a href="http://devopscafe.org/">DevOps Cafe</a> have been preaching the
gospel of sharing in operations, and I&#8217;ve been agreeing as loudly as possible.
This is my first step towards putting up (instead of shutting up).</p>

<h2>Startups Need DevOps</h2>

<p><a href="http://www.jedi.be/blog/2010/02/12/what-is-this-devops-thing-anyway/">DevOps</a>
problems don&#8217;t just exist in tiered organizations with a big wall separating
the development team from the operations team.  In our case, they exist when
part of the dev team and the whole ops team share a brain.  Over a few posts,
I&#8217;d like to share what our experience has been in solving these problems,
including the missteps we&#8217;ve had along the way and the problems we&#8217;re still
working on. First though, I&#8217;d like to explain why DevOps and a focus on
Culture, Automation, Metrics and Sharing (<strong>CAMS</strong>) has worked well for us and
why I think it&#8217;s a critical element of success in startups.</p>

<p>Startups are fundamentally about learning and building in the <a href="http://www.startuplessonslearned.com/2008/09/lean-startup.html">face of
uncertainty</a>.
For this and many other reasons, agile development is almost universally seen
as the way to build a software product (I&#8217;m going to take this as a given from
here on out).  If you&#8217;re doing software development in a startup, you should be
using an agile process because the requirements are uncertain.  They&#8217;re not
just uncertain because requirements are hard to write down.  They&#8217;re uncertain
because not only do you not know what your customer want but you might not even
know who your customer <em>is</em>.  Agile development means rapid iteration, and one
of the first things you run in to is that it&#8217;s difficult to keep an application
deployed and operational when you&#8217;re changing large parts of your application
on a regular basis (especially early).  Agile development doesn&#8217;t work with
slow, rigid operations.</p>

<h3>Bad Solutions</h3>

<p>Your startup is chugging along, iterating quickly and deploying lightly-tested
code to your one server by doing <code>git pull &amp;&amp; touch deploy.wsgi</code>.  You&#8217;re
learning tons as you get rapid feedback from customers and people love you
because you can push a fix for their bug before you even hang up the phone!.
Then, one day, you find a HUGE bug in production and How Could This Happen!?
The next week, your application goes down because you tested that new feature
using python 2.6 locally and the server has 2.5 and urllib hates you and you
were going to update the server to 2.6 before the next <code>git pull</code> but Fred
deployed his feature first and you remember telling Fred about the python 2.6
thing and now your co-founder is questioning this rapid iteration thing and
your customers don&#8217;t care about your 5-minute turn around on bug fixes because
they were in a presentation when you went down and&#8230; arg.</p>

<p>The worst reaction is to slow down development.</p>

<ul>
<li>You can shame/punish developers for any bugs or mistakes</li>
<li>You can require every update go through a manual set of several hundred test
cases that takes a few days to click through</li>
<li>You can lengthen your release cycle so that the rapid iterations only happen
on the internal build and customers only see the changes every couple of
months after a rigorous manual QA process.</li>
</ul>


<p>All of those options work in the sense that you can improve uptime and quality
over your old way of doing things. The problem is that in the mean time, your
business suffers.</p>

<ul>
<li>Punishing errors won&#8217;t actually solve your problem, but it has the misfortune
of making shamers feel better. This is a mindset that we&#8217;ve had to constantly
fight in order to build a culture where it&#8217;s ok to <a href="http://www.startuplessonslearned.com/2009/10/curse-of-prevention.html">make a mistake exactly
once</a>.
Unilateral mistake prevention isn&#8217;t possible without HUGE costs.</li>
<li><p>Days worth of manual tests are the opposite of rapid. Before automating
testing was a viable alternative, this might have been the only option to
ensure quality, but every delay lengthens the distance between you and
learning from your customers. It&#8217;s also very possible that your time running
manual tests on known problems cuts in to the time you have for exploratory
testing to find the actual bugs.</p>

<p>In the beginning, this was the path we went down until we got smart and began
investing in a suite of <a href="http://seleniumhq.org/">Selenium</a> tests (in
conjunction with unit tests) to solve the same problem. Now all our code
changes require accompanying selenium tests and we don&#8217;t have the kind of bugs
that manual tests would have caught. We also run these tests many times per
day, which means we know on an hourly basis what our quality looks like.
<img src="/images/posts/devops-at-our-startup/selenium_hudson.png" alt="hudson_status" /></p></li>
<li>Lengthening your release cycle might seem like a good idea, but if that&#8217;s all
you&#8217;re changing, it&#8217;s just as likely to cause <em>lower</em> quality as it is to
raise quality. Instead of building the minimum set of features and iterating
on feedback, longer cycles encourage you to build too much and &#8220;too much&#8221; is
more difficult to test than Just Enough. See our group collaboration story
for an example. It&#8217;s kind of a dead horse, but longer release cycles are more
waterfall, and waterfall is bad.</li>
</ul>


<p>We need to deliver changes to our customers quickly because that&#8217;s the only way
we can find out what they actually need and give it to them.</p>

<h3>A Bad Solution Hurts the Business</h3>

<p>In 2008, when our update cycle was still in the 6-8 week range (because
releases were a pain), I built a group collaboration piece to help users give
feedback on policies in advance of a meeting. It took the full 8 week cycle to
nail down and get built and tested. We then spent another 6 week cycle refining
the idea based on direct meetings with customers. I thought it was pretty
awesome and the major sponsor of the feature seemed happy. Later down the road,
we integrated <a href="http://mixpanel.com/">Mixpanel</a> to start tracking exactly what
our customers were using and we got some bad news. Not only was the sponsor
customer the only one using the group collaboration, they were only using it a
few times a month (versus hundreds of uses a week for our &#8220;core&#8221; features) AND
they were only using a subset of the features we added. If we were keeping
metrics to track usage, we would have known right away that this feature was
not the most important. If our devops process was better and we didn&#8217;t fear
releases, we could have built the core functionality that they were actually
interested in instead of spending weeks on parts that were &#8220;nice to have.&#8221; As
more of a <a href="http://steveblank.com/2009/08/31/the-customer-development-manifesto-reasons-for-the-revolution-part-1/">customer
development</a>
note, a bit more customer interaction would have led us to build us something
very different. We added lightweight in-line collaboration this year in a
single 2-week cycle. This would have fulfilled 90% of the original requirements
and is now utilized about 40% of the available time instead of the low
single-digit utilization for the larger, more-complicated group collaboration
feature. Our devops problem cost us ~10 weeks of desperately-valuable
development time that our business and customers needed.</p>

<p><img src="/images/posts/devops-at-our-startup/collab_usage.png" alt="usage
graph" /></p>

<h2>Another Solution, Almost as Bad</h2>

<p>Another bad solution is to realize that you have a deployment/release problem,
discover that there are good technical solutions and then spend the next year
completely automating your processes, collecting metrics, and changing behavior
to build better culture while you shut down the development side of things.
Obviously, a startup can&#8217;t survive treading water for months while working on
&#8220;internal&#8221; improvements and you wouldn&#8217;t lay off a development team (or pay
them to sit) in the meantime. In our case though, there was no line between the
development team and the operations team. Time spent on operations was time not
spent on development. This balance has been a continuing struggle for us, but
the flexibility that gives us to always work on the most important problem has
been valuable.</p>

<h2>A Better Way</h2>

<p>Recognizing that your business has a problem and that there is a solution seems
like most of the battle, but there&#8217;s still the problem of how to get from where
you are to where you want to be. The good thing about DevOps in general, is
that it&#8217;s not a set of things you have to do to be &#8220;compliant.&#8221; It&#8217;s a process
that your startup can use starting <strong>today</strong> to make things a bit better. It
starts with a culture that treats operations and development as two side of the
same coin and that values continuous improvement. The manifestations of this
include things like striving to automate all of your operations activities and
putting infrastrcture code in the same source control your application lives.
If you have a problem with a developer using a different version of a library
than you deployed to production, give that developer the ability and
responsibility to change your <a href="http://pip.openplans.org/">Pip</a> requirements
file and review their code change in your source control. Just like
development&#8217;s job is to find the highest value/priority thing to work on every
day, operations should be looking for the place with the most pain and working
on removing that pain through <a href="http://docs.fabfile.org/">automation</a> so that it
stays gone.</p>
</div>
  
  


  </article>

<nav role="pagination">
  <div>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</nav>

<script type="text/javascript">
    var disqus_shortname = 'policystatdevblog';
    (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</div>
<aside role=sidebar>
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="where-are-the-magic-deployment-tools">Where are the magic deployment tools?</a>
      </li>
    
      <li class="post">
        <a href="run-mysql-from-a-ram-disk-in-ubuntu">Run MySQL From a RAM Disk in Ubuntu Linux</a>
      </li>
    
      <li class="post">
        <a href="policypad-real-time-collaboration-through-you">PolicyPad: Etherpad + Bring Your Own Editor</a>
      </li>
    
      <li class="post">
        <a href="todays-amazon-ec2-ebs-outage-in-a-graph">Today&#8217;s Amazon ec2 EBS Outage in a Graph</a>
      </li>
    
      <li class="post">
        <a href="php-to-django-how-we-did-it">PHP to Django: How we did it</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("policystat", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/policystat" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @policystat</a>
  
</section>




  
</aside>

    </div>
  </div>
  <footer><p>
  Copyright &copy; 2011 - PolicyStat LLC -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
</body>
</html>
